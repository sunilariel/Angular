

<style>
    body, html {
        width: 100%;
        height: 100%;
        font-family: 'Lato', sans-serif !important;
        color: #455862;
    }

    body {
        overflow-x: hidden;
    }

    /*body, h1, h2, h3, h4, h5, h6 {
        font-weight: 300;
    }*/

    .dx-list:not(.dx-list-select-decorator-enabled) .dx-list-item.dx-state-focused {
        background-color: #00bbc5 !important;
        color: #fff !important;
    }

    .dx-list:not(.dx-list-select-decorator-enabled) .dx-list-item.dx-list-item-selected {
        background-color: #00bbc5 !important;
        color: #fff !important;
    }

    .dx-list:not(.dx-list-select-decorator-enabled) .dx-list-item.dx-state-hover {
        background-color: #00bbc5 !important;
        color: #fff !important;
    }
    .gre_bg.buttons_sec.text-right.margin_top20 a {
    margin-top: 20px;
}
</style>

<div ng-app="bookingApp">


    <div style="width: 100%;text-align: center;position: absolute;z-index: 999999; top:65px;" ng-if="IsVisible"><span id="voice-box" class="noDisplay" style="background:yellow; padding:5px 10px; border-radius:0 0 2px 2px;" ng-bind="MessageText"></span></div>

    <header class="top">
        <div class="logo_section"> <a class="logo" href="#"></a><img src="../Content/Assets/images/logo.png" alt="Logo"></a> </div>
        <h1>Reports</h1>

        <div class="pull-right movileViewList">
            <ul class="nav navbar-nav navbar-right ">
                <li><a href="#" id="menuiconBar" class="mobileViewIconBar"><i class="fa fa-bars" aria-hidden="true"></i></a></li>
            </ul>
        </div>
        <div class="top_right">
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
                    </div>

                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

                        <ul class="nav navbar-nav navbar-right">
                            <li class="upgrade_btn"><a href="#" title="">Upgrade</a></li>
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="fa fa-bell-o" aria-hidden="true"></i> <span class="caret"></span> </a>

                                <!-- /.dropdown-user -->
                                <ul class="dropdown-menu dropdown-user animated flipInY">
                                    <li id="my_details">
                                        <a href="#">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-user setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">{{companyEmail}}</h3>
                                                <p class="nav-dropdown-desc-text">Username/password</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                    <li id="account_details">
                                        <a href="#">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-account-plan setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">Account Plan</h3>
                                                <p class="nav-dropdown-desc-text">Update account</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-cog setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">Refresh</h3>
                                                <p class="nav-dropdown-desc-text">Updates the Page</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                    <li id="sign_out" class="nav-dropdown-li-last">
                                        <a ng-click="Logout()" class="cursorhand">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-log-out setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">Sign Out</h3>
                                                <p class="nav-dropdown-desc-text">See you soon!</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="setmore-icon-user nav_user_icon"></i> <span class="caret"></span> </a>

                                <!-- /.dropdown-user -->
                                <ul class="dropdown-menu dropdown-user animated flipInY">
                                    <li id="my_details">
                                        <a href="#">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-user setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">{{companyEmail}}</h3>
                                                <p class="nav-dropdown-desc-text">Username/password</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                    <li id="account_details">
                                        <a href="#">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-account-plan setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">Account Plan</h3>
                                                <p class="nav-dropdown-desc-text">Update account</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-cog setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">Refresh</h3>
                                                <p class="nav-dropdown-desc-text">Updates the Page</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                    <li id="sign_out" class="nav-dropdown-li-last">
                                        <a ng-click="Logout()" class="cursorhand">
                                            <div class="nav-dropdown-icon-holder"> <span class="setmore-icon-log-out setmore-icon-fsize"></span> </div>
                                            <div class="nav-dropdown-desc-holder">
                                                <h3 class="nav-dropdown-desc-header">Sign Out</h3>
                                                <p class="nav-dropdown-desc-text">See you soon!</p>
                                            </div>
                                            <div class="clear"></div>
                                        </a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <!-- /.navbar-collapse -->
                </div>
                <!-- /.container-fluid -->
            </nav>
        </div>
        <div class="clearfix"> </div>
        <div style="width: 100%;text-align: center;position: absolute;z-index: 999999; top:65px;" ng-if="IsVisible"><span id="voice-box" class="noDisplay" style="background:yellow; padding:5px 10px; border-radius:0 0 2px 2px;" ng-bind="MessageText"></span></div>
        <!-- <div style="width: 100%;text-align: center;position: absolute;z-index: 999999;" ng-if="IsVisible"><span id="voice-box" class="noDisplay" style="display: none;">Staff breaks saved.</span></div> -->
    </header>

    <div class="left_sidebar sidebtipt">
        <ul class="nav">
            <li class="side-nav-tooltip" id="side-dashboard" tooltips tooltip-template="Dashboard" tooltip-side="right">
                <a ng-click="redirecttodashboard()" style="cursor:pointer;" data-toggle="tab" class="setmore-icon-home" id="startDashboard"><small>Dashboard</small></a>
            </li>
            <li class="side-nav-tooltip" id="side-calendar" tooltips tooltip-template="Calendar" tooltip-side="right">
                <a ng-click="redirectToCalendar()" data-toggle="tab" class="setmore-icon-calendar-31" id="startCalendar"><small>Calendar</small></a>
            </li>
            <li class="side-nav-tooltip" id="side-customers" title="" tooltips tooltip-template="Customers" tooltip-side="right">
                <a ng-click="redirecttoCustomer()" style="cursor:pointer;" data-toggle="tab" class="setmore-icon-users2" id="side-nav-customers"><small>Customers</small></a>
            </li>
            <li class="side-nav-tooltip" id="side-profile appsnavpstng" tooltips tooltip-template="Apps &amp; Integrations" tooltip-side="right">
                <a href="" data-toggle="tab" class="setmore-icon-laptop-phone"><small>Profile&nbsp;</small></a>
            </li>

            <li class="side-nav-tooltip" id="settings_new" tooltips tooltip-template="Settings" tooltip-side="right">
                <a ng-click="RedirecttoStaff()" data-toggle="tab" class="fa fa-cog"><small>Settings</small></a>
            </li>
            <li class="side-nav-tooltip reports active" tooltips tooltip-template="Reports" tooltip-side="right"> <a class="fa fa-line-chart" ng-click="RedirecttoReport()"><small>Reports</small></a> </li>

            <li class="side-nav-tooltip blue_icon" tooltips tooltip-template="Premium" tooltip-side="right"> <a class="setmore-icon-shield-alert" href="#"><small>Premium</small></a> </li>
        </ul>
    </div>
    <div class="right_section" id="settings">
        <div class="tabs_section" style="width: 100px;">
            <ul class="nav nav-tab nav-stacked">
                <li>
                    <a ng-click="RedirecttoBuisnessReport()" title="Business" data-toggle="tab" class="cursorhand">
                        <i class="setmore-icon-equalizer nav-icon-fsize"></i><br>
                        BUISNESS
                    </a>
                </li>
                <li >
                    <a ng-click="RedirecttoResourceReport()" title="Resource" class="cursorhand"  data-toggle="tab">
                        <i class="setmore-icon-users2 nav-icon-fsize"></i><br>
                        RESOURCE
                    </a>
                </li>
                <li>
                    <a ng-click="RedirecttoServiceReport()" title="Service" class="cursorhand" data-toggle="tab">
                        <i class="setmore-icon-truck nav-icon-fsize"></i><br>
                        SERVICE
                    </a>
                </li>
                <li class="active" id="paymentMainTab" style="">
                    <a ng-click="RedirecttoCustomerReport()" title="Customer" data-toggle="tab" class="cursorhand">
                        <i class="setmore-icon-cashier nav-icon-fsize"></i><br>
                        CUSTOMER
                    </a>
                </li>
              
            </ul>
        </div>
        <div ng-controller="CustomerReportsController" ng-init="init()">
            <div class="tab_section tab_section2" >
                <div class="container-fluid">
                    <div class="row">
                        <!--<div class="col-sm-3 col-md-2">
                            <div class="tab_list">
                                <ul class="list-unstyled">
                                    <li> <a ng-click="RedirecttoBuisnessReport()" class="cursorhand" title="Business"> Business </a> </li>
                                    <li> <a ng-click="RedirecttoResourceReport()" class="cursorhand" title="Resource"> Resource </a> </li>
                                    <li> <a ng-click="RedirecttoServiceReport()" class="cursorhand" title="Service"> Service </a> </li>
                                    <li class="active"> <a ng-click="RedirecttoCustomerReport()" class="cursorhand" title="Customer"> Customer </a> </li>
                                </ul>
                            </div>
                        </div>-->
                        <div class="col-sm-9 col-md-12" >
                            <div class="right_tabcontent">
                                <div class="business_content">
                                    <h3> Top 25 Customers Report </h3>
                                    <div class="gre_bg time_frame">
                                        <div class="row">
                                            <div class="col-sm-3 text-left">
                                                <h4 class="resource_hd">Customer</h4>
                                            </div>
                                            <div class="col-sm-9 text-right resources_div">
                                                <label class="all resources" for="timeframe_today">
                                                    All Customer
                                                    <input type="checkbox" name="timeframe" value="AllCustomer" id="" ng-model="checked" ng-click="GetAllCustomerReport(checked)">
                                                </label>
                                                <select ng-disabled="allcustomerchecked" ng-model="SelectedCustomer" ng-change="CustomerChange(SelectedCustomer)">
                                                    <option ng-repeat="item in ListofCustomers" value="{{item.Id}}">{{item.FirstName}}</option>
                                                </select>
                                                <!--<span class="daytimecarticon resourcecarticon"><i class="fa fa-caret-down" aria-hidden="true"></i></span>-->
                                            </div>
                                        </div>
                                    </div>





                                    <div class="gre_bg time_frame margin_top20">
                                        <div class="row">
                                            <div class="col-sm-4 text-left">
                                                <h4> Time Frame </h4>
                                            </div>
                                            <div class="col-sm-8 text-right">
                                                <label class="all" for="timeframe_today">
                                                    Today
                                                    <input type="radio" name="timeframe" value="today" ng-model="time" ng-click="GetTimeFrame(time)" id="timeframe_today">
                                                </label>
                                                <label class="all" for="timeframe_thisweek">
                                                    This Week
                                                    <input type="radio" name="timeframe" value="thisweek" ng-model="time" ng-click="GetTimeFrame(time)" id="timeframe_thisweek">
                                                </label>

                                                <label class="all" for="timeframe_thismonth">
                                                    This Month
                                                    <input type="radio" name="timeframe" value="thismonth" ng-model="time" ng-click="GetTimeFrame(time)" id="timeframe_thismonth" checked="checked">
                                                </label>
                                                <label class="all" for="timeframe_thisyear">
                                                    This Year
                                                    <input type="radio" name="timeframe" value="thisyear" ng-model="time" ng-click="GetTimeFrame(time)" id="timeframe_thisyear">
                                                </label>
                                                <label class="all" for="timeframe_custom">
                                                    Custom
                                                    <input type="radio" name="timeframe" value="custom" ng-model="time" ng-click="GetTimeFrame(time)" id="timeframe_custom">
                                                </label>
                                            </div>
                                        </div>

                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="gre_bg buttons_sec text-right margin_top20">
                                        <div class="row" ng-show="CustomerReportTimeFrame">
                                            <div class="col-md-6">
                                                <div class="betweenDateDiv">
                                                    <label class="beetweenlabel">Between:</label>
                                                    <div class="dateBtnDiv">
                                                        <select class="form-control dateselect" ng-model="SelectedStartDate" ng-change="GetTimeFrameReports()">
                                                            <option ng-repeat="item in Date" value="{{item}}" >{{item}}</option>                                                         
                                                        </select>
                                                    </div>
                                                    <div class="dateBtnDiv">
                                                        <select class="form-control dateselect" ng-model="SelectedStartMonth" ng-change="GetTimeFrameReports()">
                                                            <option ng-repeat="item in Months" >{{item}}</option>                                                        
                                                        </select>
                                                    </div>
                                                    <div class="dateBtnDiv">
                                                        <select class="form-control dateselect" ng-model="SelectedStartYear" ng-change="GetTimeFrameReports()">
                                                            <option ng-repeat="item in Years" >{{item}}</option>                                                       
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="betweenDateDiv">
                                                    <label class="beetweenlabel">and</label>
                                                    <div class="dateBtnDiv">
                                                        <select class="form-control dateselect" ng-model="SelectedEndDate" ng-change="GetTimeFrameReports()">
                                                            <option ng-repeat="date in Date">{{date}}</option>
                                                        </select>
                                                    </div>
                                                    <div class="dateBtnDiv">
                                                        <select class="form-control dateselect" ng-model="SelectedEndMonth" ng-change="GetTimeFrameReports()">
                                                            <option ng-repeat="month in Months">{{month}}</option>
                                                        </select>
                                                    </div>
                                                    <div class="dateBtnDiv">
                                                        <select class="form-control dateselect" ng-model="SelectedEndYear" ng-change="GetTimeFrameReports()">
                                                            <option ng-repeat="year in Years">{{year}}</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <a class="cursorhand" ng-csv="CustomerReportDetail" filename="CustomerReports.csv" csv-header="['Customer','Bookings','Revenue']" > <i class="fa fa-cloud-download" aria-hidden="true"></i> Download as CSV </a>
                                        <!--<a href="#" title=""> Show Results </a>-->
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="inner_busscontent">
                                        <h3 ng-if="time!='today'">
                                            Showing data for {{StartDate | date :"dd MMM yyyy"}} to {{EndDate | date :"dd MMM yyyy"}}
                                        </h3>
                                        <h3 ng-if="time=='today'">
                                            Showing data for {{StartDate | date :"dd MMM yyyy"}}
                                        </h3>
                                        <div class="customer_table">
                                            <div class="table-responsive table_1">
                                                <table class="table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th ng-click="GetCustomerReportbyOrder('CustomerFirstName')">Customer<i class="table-sort fa fa-sort" aria-hidden="true"></i> </th>
                                                            <th ng-click="GetCustomerReportbyOrder('TotalBookings')">Bookings<i class="table-sort fa fa-sort" aria-hidden="true"></i></th>
                                                            <th ng-click="GetCustomerReportbyOrder('TotalConfirmedRevenue')">Revenue<i class="table-sort fa fa-sort" aria-hidden="true"></i></th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="item in CustomerReportDetail">
                                                            <!--<td><a target="_blank" href="#">{{item.Customer}}</a></td>-->
                                                            <td>{{item.Customer}}</td>
                                                            <td>{{item.Bookings}}</td>
                                                            <td>{{item.Revenue}}</td>
                                                        </tr>
                                                        <tr ng-if="CustomerReportLoader">
                                                            <td></td>
                                                            <td><img src="/Content/Assets/images/ImpoliteLivelyGenet13.gif" /></td>
                                                            <td></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>








